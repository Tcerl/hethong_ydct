<div block-bind="content">
	<!-- Page Header -->
	<div class="row">
		<div class="card col-12">
			<div class="card-body">
				<h3 class="page-title text-uppercase text-center text-primary">Thông tin phiếu nhập Kho</h3>
			</div>
		</div>
	</div>
	<!-- End Page Header -->
	<div class="card  card-small row">
		<div class="card-body">

			<div class="col-12">
				<div class="row">
					<div class="col-lg-6 col-md-6 col-sm-12 col-12 pr-lg-3 pr-md-3">
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Mã phiếu</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="text" class="form-control" data-bind="value:id"
									placeholder="Hệ thống tự tạo" disabled>
							</div>
						</div>
						<div class="form-group  row ">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Số phiếu chứng từ</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="text" class="form-control" data-bind="value:so_phieu_chungtu"
									placeholder="Nhập mã số phiếu chứng từ">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Thời gian nhập kho<span
									class="text-danger">*</span></label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="text" class="form-control" data-bind="value:thoigian_nhap"
									placeholder="Nhập thời gian nhập kho">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Nguồn cung cấp <span
									class="text-danger">*</span></label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12" id="nguon_cungcap">
								<input type="text" class="form-control " data-bind="value:nguon_cungcap"
									placeholder="Chọn nguồn cung cấp">
							</div>
						</div>
					</div>

					<div class="col-lg-6 col-md-6 col-sm-12 col-12 border-left">
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Kho nhận hàng<span
									class="text-danger">*</span></label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<select id="chonkho" class="form-control" placeholder="Tìm kiếm và chọn kho"></select>
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Số hóa đơn</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="text" class="form-control " data-bind="value:so_hoa_don"
									placeholder="Nhập số hóa đơn">
							</div>
						</div>
						<div class="form-group row nuoitrong d-none">
							<label class="col-lg-3 col-md-3 col-12">Quy trình thu hoạch nuôi trồng</label>
							<div class="col-lg-9 col-md-9 col-12">
								<select class="form-control" placeholder="Tìm kiếm và chọn quá trình thu hoach nuôi trồng" id="nuoitrong"></select>
							</div>
						</div>
						<div class="form-group row khaithac d-none">
							<label class="col-lg-3 col-md-3 col-12">Quy trình thu hoạch khai thác</label>
							<div class="col-lg-9 col-md-9 col-12">
								<select class="form-control" placeholder="Tìm kiếm và chọn quá trình khai thác" id="khaithac"></select>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-12">
				<hr>
				<div class="row">
					<div class="col-lg-6 col-md-6 col-sm-12 col-12 pr-lg-3 pr-md-3 thongtinco d-none">
						<div class="form-group d-flex">
							<h4 class="header-title">Thông tin giấy chứng nhận nguồn gốc (CO)</h4>
							<button type="button" class="btn btn-sm btn-new-co btn-primary ml-auto"><i class="fa fa-plus"></i> Thêm mới</button>
						</div>


						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Số CO</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<select id="selectize-co" class="form-control" placeholder="Tìm kiếm và chọn CO"></select>
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-12">Chi tiết CO</label>
							<div class="col-lg-9 col-md-9 col-12">
								<span id="view-co" class="text-primary" style="cursor: pointer !important;">Nhấn để xem chi tiết giấy chứng nhận CO</span>
								<br>
								<small class="text-danger">(Chứng nhận nguồn gốc CO mặc định, danh sách dược liệu thêm vào sẽ mặc định theo số chứng nhận CO đã chọn)</small>

							</div>
							
						</div>
					</div>
					<div class="col-lg-6 col-md-6 col-sm-12 col-12 border-left thongtincungung d-none">
						<h4 class="header-title">Thông tin đơn vị cung ứng</h4>
						<div class="form-group row donvi_cungung">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Tìm kiếm đơn vị</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<select id="selectize-donvi-cungung" class="form-control"
									placeholder="Tìm kiếm và chọn đơn vị cung ứng"></select>
							</div>
						</div>
						<div class="form-group row ten_donvi_cungung">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Tên đơn vị</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="text" class="form-control " data-bind="value:ten_donvi_cungung"
									placeholder="Nhập tên đơn vị cung ứng">
							</div>
						</div>
						<div class="form-group row dienthoai_donvi_cungung">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Điện thoại</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="number" maxlength="10" class="form-control "
									data-bind="value:dienthoai_donvi_cungung"
									placeholder="Nhập số điện thoại đơn vị cung ứng">
							</div>

						</div>
						<div class="form-group row diachi_donvi_cungung">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Địa chỉ</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<textarea rows="2" class="form-control " data-bind="value:diachi_donvi_cungung"
									placeholder="Nhập địa chỉ đơn vị cung ứng"></textarea>
							</div>

						</div>

					</div>
				</div>
			</div>

			<div class="col-12 thongtinvanchuyen d-none">
				<hr>
				<h4 class="header-title">Thông tin đơn vị vận chuyển</h4>
				<div class="row">

					<div class="col-6 col-lg-6 col-md-6 col-sm-12 col-12 pr-lg-3 pr-md-3">
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Mã đơn vị</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="text" class="form-control" data-bind="value:ma_donvi_vanchuyen"
									placeholder="Nhập mã đơn vị vận chuyển">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Tên đơn vị</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="text" class="form-control" data-bind="value:ten_donvi_vanchuyen"
									placeholder="Nhập tên đơn vị vận chuyển">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Số hiệu phương tiện</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input class="form-control " data-bind="value:sohieu_phuongtien_vanchuyen"
									placeholder="Nhập số hiệu phương tiện ">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Hình thức</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input class="form-control" data-bind="value:loaihinh_vanchuyen"
									placeholder="Nhập mã lượt vận chuyển">
							</div>
						</div>
					</div>
					<div class="col-6 col-lg-6 col-md-6 col-sm-12 col-12 pr-lg-3 pr-md-3 border-left">
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Thời gian bắt đầu</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input class="form-control " data-bind="value:thoigian_batdau_vanchuyen"
									placeholder="Nhập ghi chú cho phiếu nhập hàng">
							</div>

						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Thời gian kết thúc</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input class="form-control " data-bind="value:thoigian_ketthuc_vanchuyen"
									placeholder="Nhập ghi chú cho phiếu nhập hàng">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Người giao hàng</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="text" class="form-control " data-bind="value:nguoi_vanchuyen"
									placeholder="Nhập tên người giao hàng">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-lg-3 col-md-3 col-sm-12 col-12">Điện thoại</label>
							<div class="col-lg-9 col-md-9 col-sm-12 col-12">
								<input type="number" maxlength="10" class="form-control "
									data-bind="value:dienthoai_nguoi_vanchuyen"
									placeholder="Nhập số điện thoại người giao hàng">
							</div>
						</div>

					</div>


				</div>
			</div>
			<div class="col-12">
				<div class="row form-group">
					<div class="col-lg-12 col-xs-12">
						<h4 class="text-primary">
							Danh sách dược liệu
						</h4>
						<button class="btn btn-sm btn-success btn-add-vattu mb-2"><i class="fa fa-plus"></i> Thêm dược liệu</button>
						<button class="btn btn-primary btn-sm btn-download mb-2"><i class="fas fa-download"></i> Tải file mẫu</button>
						<button class="btn btn-success btn-sm btn-import mb-2"><i class="fas fa-file-excel"></i> Import Excel</button>
						<input class="form-control search clearable mb-2 d-none" placeholder="Tìm kiếm dược liệu theo tên dược liệu, mã dược liệu dùng chung (phân biệt hoa thường)">
						
						<div class="w-100 mb-3">
							<table id="demo-foo-addrow"
								class="table table-centered  table-bordered mb-0 toggle-circle table-vattu d-none"
								data-page-size="7">
								<thead>
									<tr>
										<th data-sort-initial="true" data-toggle="true" rowspan="2">STT</th>
										<th data-hide="phone" rowspan="2">Số Lô</th>
										<th style="min-width: 267px;" rowspan="2">Tên dược liệu</th>
										<th data-hide="phone" colspan="2" class="text-center">Số lượng</th>
										<th data-hide="phone" rowspan="2">Đơn giá (VND)</th>
										<th data-hide="phone" rowspan="2">Thành tiền (VND)</th>
										<th data-sort-ignore="true" class="min-width" style="width: 120px;"
											rowspan="2" colspan="2"></th>
										<!-- <th data-sort-ignore="true" class="min-width" style="width: 61px;" rowspan="2"></th> -->
									</tr>
									<tr>
										<th data-hide="phone">Chứng từ</th>
										<th data-hide="phone">Thực nhập</th>
									</tr>
								</thead>
								<tbody>
								</tbody>
								<tfoot>
									<tr>
										<td colspan="9" class="title-tongtien">Tổng tiền: <span
												class="tongtien-vattu">0</span> VND</td>
									</tr>
								</tfoot>
							</table>
						</div>
						
					</div>
				</div>
			</div>
			<hr>
			<div class="col-12">
				<div class="form-group row">
					<div class="col-lg-12 col-xs-12">
						<h4>
							<a href="#taskcollapse1" data-toggle="collapse" aria-expanded="false"
								class="d-block title-benhkemtheo px-1"><label class="col-form-label">Danh sách chứng từ
									đính
									kèm</label><i class="mdi mdi-chevron-down accordion-arrow"></i></a>
						</h4>
						<button class="btn btn-sm btn-success btn-add-file mb-2"><i class="fa fa-plus"></i> Thêm chứng từ đính kèm</button>
						<div class="collapse show" id="taskcollapse1">
							<div class="table-responsive w-80 list-attachment">
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	<div class="form-group row mx-0">
		<div id="button-alway-show">
			<div block-bind="toolbar" class="col-sm-12 col-xs-12 text-center "></div>
		</div>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Cảnh báo</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Xóa phiếu nhập có thể sẽ ảnh hướng tới số lượng dược liệu trong kho, báo cáo xuất nhập tồn. Sau khi xóa dữ liệu sẽ không thể khôi phục. Bạn có muốn
                tiếp tục không?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal"> Hủy</button>
                <button type="button" class="btn btn-primary btn-deleted-continue" data-dismiss="modal">Tiếp
                    tục</button>
            </div>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Cảnh báo</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Xóa phiếu nhập có thể sẽ ảnh hướng tới số lượng dược liệu trong kho, báo cáo xuất nhập tồn. Sau khi xóa dữ liệu sẽ không thể khôi phục. Bạn có muốn
                tiếp tục không?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal"> Hủy</button>
                <button type="button" class="btn btn-primary btn-item-deleted-continue" data-dismiss="modal">Tiếp
                    tục</button>
            </div>
        </div>
    </div>
</div>

<script>
    /**
 * Clearable text inputs
 */
function tog(v){return v ? "addClass" : "removeClass";} 
$(document).on("input", ".clearable", function(){
    $(this)[tog(this.value)]("x");
}).on("mousemove", ".x", function( e ){
    $(this)[tog(this.offsetWidth-18 < e.clientX-this.getBoundingClientRect().left)]("onX");
}).on("touchstart click", ".onX", function( ev ){
    ev.preventDefault();
    $(this).removeClass("x onX").val("").keyup();
});

// $('.clearable').trigger("input");
// Uncomment the line above if you pre-fill values from LS or server
</script>